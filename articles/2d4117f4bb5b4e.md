---
title: "Modifierã§Composeã‚’é…å»¶è¡¨ç¤ºã™ã‚‹"
emoji: "ğŸƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["android", "kotlin", "jetpackcompose"]
published: false
---

# ã¯ã˜ã‚ã«

Twitter ã§ä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã¿ã¾ã—ãŸã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®é«˜é€ŸåŒ–ãªã©ã«ã‚ˆã‚Šã€ãƒ¢ãƒã‚¤ãƒ«ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ãŒä¸€ç¬ã ã‘è¡¨ç¤ºã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã€UX çš„ã«è‰¯ããªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚Indicator ã‚’é…å»¶è¡¨ç¤ºã™ã‚‹ã“ã¨ã§è§£æ±ºã—ã¦ãŠã‚Šã€ãã‚Œã‚’ SwiftUI ã§è§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚
@[card](https://www.photoroom.com/tech/improving-loading-experience-in-swiftui/)

ç§ã‚‚ä»¥å‰ã‹ã‚‰åŒæ§˜ã®å•é¡Œã§æ‚©ã‚“ã§ãŠã‚Šã€æœ¬è¨˜äº‹ã§ã¯åŒæ§˜ã®å†…å®¹ã‚’ Jetpack Compose ã§ã‚„ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

# å®Ÿè£…

1. delayAppearance é–¢æ•°ã‚’ä½œæˆ

[ã“ã¡ã‚‰](<https://developer.android.com/reference/kotlin/androidx/compose/ui/package-summary#(androidx.compose.ui.Modifier).composed(kotlin.Function1,%20kotlin.Function1)>)ã‚’å‚è€ƒã«ä»¥ä¸‹ã® Modifier æ‹¡å¼µé–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚
`composed`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ stateful ãª Modifier ã‚’ä½œæˆã—ã¾ã™ã€‚å¼•æ•°ã§æŒ‡å®šã•ã‚ŒãŸãƒŸãƒªç§’æ•°å¾Œã« alpha ã‚’ 1 ã¨ã™ã‚‹ã“ã¨ã§é…å»¶è¡¨ç¤ºã‚’å®Ÿç¾ã—ã¾ã™ã€‚

```kt
fun Modifier.delayAppearance(
    delayMills: Long = 300L
) = composed(
    inspectorInfo = debugInspectorInfo {
        name = "delayAppearance"
        value = delayMills
    },
    factory = {
        var isShow by remember { mutableStateOf(false) }
        LaunchedEffect(Unit) {
            delay(delayMills)
            isShow = true
        }
        this.graphicsLayer {
            alpha = if (isShow) 1f else 0f
        }
    }
)
```

2. delayAppearance ã‚’ä½¿ã†

ä½¿ç”¨ã™ã‚‹å´ã¯ã„ãŸã£ã¦ç°¡å˜ã§ Modifier ã«æ¸¡ã—ã¦ã‚ã’ã‚Œã°è‰¯ã„ã ã‘ã§ã™ã€‚

```kt
@Composable
fun LoadingScreen() {
    Box(
        modifier = Modifier.fillMaxSize().delayAppearance(),
        contentAlignment = Alignment.Center
    ) {
        CircularProgressIndicator()
    }
}
```

# æˆæœç‰©

GitHub ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã¯ä¸‹è¨˜ã§ã™ã€‚
https://github.com/goutarouh/ComposeDelayAppearance

gif ã‚’å¼µã‚‹ã®ã¯é¢å€’..ãªã®ã§ã€å†’é ­ã§ç´¹ä»‹ã—ãŸ[ã“ã¡ã‚‰](https://www.photoroom.com/tech/improving-loading-experience-in-swiftui/)ã®è¨˜äº‹ã‚’è¦‹ã¦ãã ã•ã„ã€‚ã ã„ãŸã„åŒã˜ã‚ˆã†ãªã‚‚ã®ãŒä½œã‚Œã¾ã™ã‚ˆ..

# å‚è€ƒ

[composed ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](<https://developer.android.com/reference/kotlin/androidx/compose/ui/package-summary#(androidx.compose.ui.Modifier).composed(kotlin.Function1,%20kotlin.Function1)>)
[Improving the Loading Experience in SwiftUI](https://www.photoroom.com/tech/improving-loading-experience-in-swiftui/)
